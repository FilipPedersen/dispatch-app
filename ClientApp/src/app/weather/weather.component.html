<div class="flex md:flex-row-reverse flex-col w-full gap-4">
  <mat-card class="md:w-1/3 w-full h-fit">
    <app-history (icaoCode)="handleCodeEmit($event)"></app-history>
  </mat-card>
  <mat-card class="md:w-2/3 w-full">
    <mat-form-field appearance="fill">
      <mat-label>Input ICAO Code</mat-label>
      <input
        matInput
        placeholder="e.g EKBI"
        [formControl]="icaoCode"
        class="uppercase"
        maxlength="4"
      />
    </mat-form-field>

    <div *ngIf="isLoading" class="flex h-56 items-center justify-center mb-6">
      <mat-spinner diameter="50"></mat-spinner>
    </div>

    <mat-tab-group
      class="px-4"
      mat-stretch-tabs="false"
      animationDuration="0ms"
      *ngIf="!isLoading && !error && icaoCode.value?.length === 4"
    >
      <mat-tab label="METAR">
        <app-metar [icaoCode]="icaoCode.value"></app-metar>
      </mat-tab>
      <mat-tab label="TAF">
        <app-taf></app-taf>
      </mat-tab>
      <mat-tab label="Full">
        <app-full [icaoCode]="icaoCode.value"></app-full>
      </mat-tab>
    </mat-tab-group>

    <div
      class="flex justify-center min-h-56 items-center"
      *ngIf="icaoCode.value?.length !== 4"
    >
      <p class="text-center font-medium text-neutral-700 text-lg mb-6">
        Input ICAO code to view weather data
      </p>
    </div>

    <div *ngIf="error">
      <app-error-message
        [icaoCode]="icaoCode.value"
        [errorMsg]="error"
      ></app-error-message>
    </div>
  </mat-card>
</div>
